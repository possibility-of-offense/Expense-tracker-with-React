(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){e.exports={"filtering-title":"Filter_filtering-title__1Z_5b"}},,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(14),c=n.n(a),s=(n(29),n(4)),i=n(2),r=(n(30),n(0));var l=function(e){return e.author.tag?Object(r.jsx)("h2",{children:e.author.name}):Object(r.jsx)("div",{className:"author",children:Object(r.jsxs)("h5",{children:[e.children," ",e.author.name]})})};n(32),n(33);var o=function(e){return"medium"===e.radius?Object(r.jsx)("div",{onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:"card card-border-radius__medium "+e.className,children:e.children}):Object(r.jsx)("div",{onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:"card "+e.className,children:e.children})},u=n(15),d=n(1),j=n(5);var b,x=function(e){var t=Object(d.useState)(e.styling),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(d.useEffect)((function(){c((function(e){return Object(j.a)(Object(j.a)({},e),{},{cursor:"pointer"})}))}),[]),Object(r.jsx)("button",{className:e.className,onClick:e.onClick,style:a,children:e.children})},h=n(17),O=(n(34),n(12),n(16)),p=n.n(O),v=h.a.div(b||(b=Object(u.a)(["\n  text-align: center;\n  display: ",";\n\n  @media (max-width: 600px) {\n    text-decoration: underline;\n  }\n"])),(function(e){return e.show?"none":"block"})),m=function(e){var t=Object(d.useState)("2020"),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(d.useState)("Filter by price"),l=Object(i.a)(s,2),o=l[0],u=l[1],j=Object(d.useState)(!1),b=Object(i.a)(j,2),h=b[0],O=b[1];function m(e,t){return!!e.includes(t)}return Object(r.jsxs)("div",{className:"expenses-filter",children:[Object(r.jsx)(v,{className:p.a["filtering-title"],show:h,children:"It's time to filter stuff..."}),Object(r.jsxs)("div",{className:"expenses-filter__control",children:[Object(r.jsxs)("div",{className:"filtering",children:[Object(r.jsx)("label",{children:"Filter by year"}),Object(r.jsx)(x,{styling:{width:"200px"},onClick:function(){m(o,"price")?e.onFilterPrice(!0):e.onFilterPrice(!1),u((function(e){return e=m(e,"price")?"Filter by name":"Filter by price"}))},className:"expense-item__price",children:o})]}),e.date?Object(r.jsxs)("p",{children:["Currently selected date: ",e.date]}):Object(r.jsx)("p",{children:"No date selected"}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("select",{value:a,onChange:function(t){c((function(e){return t.target.value})),e.onSetFilterDate(t.target.value),e.onToggleShowAllExpensesChart(!1),O(!0)},children:[Object(r.jsx)("option",{value:"2022",children:"2022"}),Object(r.jsx)("option",{value:"2021",children:"2021"}),Object(r.jsx)("option",{value:"2020",children:"2020"}),Object(r.jsx)("option",{value:"2019",children:"2019"})]}),Object(r.jsx)("br",{}),h&&Object(r.jsx)(x,{onClick:function(){e.onSetFilterDate(null),e.onSetFilteredExpenses((function(e){return[]})),e.onToggleShowAllExpensesChart(!0)},className:"restore",children:"Restore all expenses"})]})]})]})};n(38),n(39);var f=function(e){var t=e.date.toLocaleString("en-EN",{month:"short"}),n=e.date.toLocaleString("en-EN",{month:"2-digit"}),a=e.date.getFullYear();return Object(r.jsxs)("div",{className:"expense-date",children:[Object(r.jsx)("div",{className:"expense-date__month",children:t}),Object(r.jsx)("div",{className:"expense-date__year",children:a}),Object(r.jsx)("div",{className:"expense-date__day",children:n})]})};n(40);var g=function(e){return Object(r.jsx)("div",{className:"badge",children:Object(r.jsx)("h5",{children:e.children})})};var N=function(e,t){var n=e.expense,a=Object(d.useState)(e.expense.title),c=Object(i.a)(a,2),s=c[0],u=c[1],j=Object(d.useState)(!1),b=Object(i.a)(j,2),h=b[0],O=b[1],p=Object(d.useState)(!1),v=Object(i.a)(p,2),m=v[0],N=v[1],y=Object(d.useRef)(null);function _(){n.amount>500&&N((function(e){return!e}))}return Object(r.jsx)("li",{children:Object(r.jsxs)(o,{onMouseEnter:_,onMouseLeave:_,className:"expense-item ".concat(n.amount>500?"red-bg":""),children:[m&&Object(r.jsx)(g,{children:"Too high expense"}),Object(r.jsx)(f,{date:n.date}),Object(r.jsxs)("div",{onMouseEnter:function(e){y.current.parentElement.classList.contains("light-bg")||y.current.parentElement.classList.add("light-bg")},onMouseLeave:function(e){y.current.parentElement.classList.contains("light-bg")&&y.current.parentElement.classList.remove("light-bg")},title:e.children[1],className:"expense-item__description",ref:y,children:[Object(r.jsx)("h2",{children:s}),Object(r.jsxs)("div",{className:"expense-item__price",children:["$",n.amount]}),Object(r.jsx)(o,{radius:"medium",className:"expense-item__quantity",children:Object(r.jsxs)(x,{styling:{backgroundColor:"#fff",padding:"5px 10px",border:"none",borderRadius:"5px"},children:["Quantity: ",n.quantity]})})]}),Object(r.jsx)(l,{author:{name:"Ventsislav Iliev"},children:"Expense of"}),"\xa0",Object(r.jsx)(o,{radius:"medium",children:Object(r.jsx)(x,{styling:{backgroundColor:"skyblue",border:"none",cursor:"pointer",padding:"6px 10px",display:"block",fontSize:"12px",fontWeight:"bold"},onClick:function(e){O((function(e){return!e}))},children:"Change title"})}),h&&Object(r.jsx)(o,{radius:"medium",className:"popup-dialog",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("h5",{children:"Set new title"}),Object(r.jsx)("form",{children:Object(r.jsx)("input",{type:"text",value:s,autoFocus:!0,onChange:function(e){u((function(t){return e.target.value}))}})})]})})]})})};n(41);var y=function(e){var t=e.filteredExpenses,n=e.expenses,a=e.filterDate;return Object(r.jsx)("ul",{className:"expenses-list",children:t.length>0?t.map((function(e,t){return Object(r.jsxs)(N,{expense:e,children:["Expense by ",e.title]},e.id)})):null!==a?Object(r.jsx)("h3",{className:"expenses-list__fallback",children:"No dates available"}):n.map((function(e,t){return Object(r.jsxs)(N,{expense:e,children:["Expense by ",e.title]},e.id)}))})},_=n(21);n(13);var S=function(e){var t,n="0%";return e.maxValue>0&&(n=Math.round(e.value/e.maxValue*100)+"%"),Object(r.jsxs)("div",{className:"chart-bar",children:[Object(r.jsx)("div",{className:"chart-bar__inner",children:Object(r.jsx)("div",{className:"chart-bar__fill",style:{height:n}})}),Object(r.jsx)("div",{className:"chart-bar__label",children:null===(t=e.label)||void 0===t?void 0:t.slice(0,3)})]})};var E=function(e){var t=Math.max.apply(Math,Object(s.a)(e.dataPoints.map((function(e){return e.value}))));return Object(r.jsx)("div",{className:"chart",children:e.dataPoints.length>0?e.dataPoints.map((function(e){return Object(r.jsx)(S,{value:e.value,maxValue:t,label:e.label},e.id)})):Object(r.jsx)("p",{children:"No chart table in here"})})},w=function(e){var t,n=[{label:"January",value:0,id:1},{label:"February",value:0,id:2},{label:"March",value:0,id:3},{label:"April",value:0,id:4},{label:"May",value:0,id:5},{label:"June",value:0,id:6},{label:"July",value:0,id:7},{label:"August",value:0,id:8},{label:"September",value:0,id:9},{label:"October",value:0,id:10},{label:"November",value:0,id:11},{label:"December",value:0,id:12}],a=Object(_.a)(e.expenses);try{for(a.s();!(t=a.n()).done;){var c=t.value;n[c.date.getMonth()].value+=Number(c.amount)}}catch(s){a.e(s)}finally{a.f()}return Object(r.jsx)(E,{dataPoints:n})};var C=function(e){var t=e.expenses,n=e.onFilterPrice,a=Object(d.useState)("2020"),c=Object(i.a)(a,2),s=c[0],l=c[1],u=Object(d.useState)([]),j=Object(i.a)(u,2),b=j[0],x=j[1],h=Object(d.useState)(!1),O=Object(i.a)(h,2),p=O[0],v=O[1];return Object(d.useEffect)((function(){s&&x((function(e){var n=t.filter((function(e){return e.date.getFullYear()===Number(s)}));return n.length?n:[]}))}),[s,t]),Object(r.jsxs)(o,{className:"expenses",children:[Object(r.jsx)("div",{children:Object(r.jsx)(m,{onFilterPrice:n,onSetFilterDate:l,date:s,onSetFilteredExpenses:x,onToggleShowAllExpensesChart:v})}),Object(r.jsx)("br",{}),p?Object(r.jsx)(w,{expenses:t,date:s}):Object(r.jsx)(w,{expenses:b,date:s}),Object(r.jsx)("br",{}),Object(r.jsx)(y,{expenses:t,filteredExpenses:b,filterDate:s})]})};n(42);var F=function(e){var t=Object(d.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(d.useState)("0.00"),l=Object(i.a)(s,2),o=l[0],u=l[1],j=Object(d.useState)(!0),b=Object(i.a)(j,2),x=b[0],h=b[1],O=new Date,p=String(O.getDate()).padStart(2,"0"),v=String(O.getMonth()+1).padStart(2,"0"),m=O.getFullYear();O=m+"-"+v+"-"+p;var f=Object(d.useState)(O),g=Object(i.a)(f,2),N=g[0],y=g[1],_=Object(d.useRef)(null);return Object(r.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),a&&o){var n={title:a,amount:Number(o),date:new Date(N)};e.onSaveExpenseData(n,"Added"),_.current.focus()}else h(!1);c(""),u(""),y("")},className:Boolean(x)?"":"invalid-input",children:[Object(r.jsxs)("div",{className:"new-expense__controls",children:[Object(r.jsxs)("div",{className:"new-expense__control",children:[Object(r.jsx)("label",{children:"Title"}),Object(r.jsx)("input",{autoFocus:!0,type:"text",onChange:function(e){c(e.target.value)},placeholder:"Title to set",value:a,ref:_,name:"title"})]}),Object(r.jsxs)("div",{className:"new-expense__control",children:[Object(r.jsx)("label",{children:"Amount"}),Object(r.jsx)("input",{type:"number",min:"0.01",step:"0.01",onChange:function(e){u(e.target.value)},value:o})]}),Object(r.jsxs)("div",{className:"new-expense__control",children:[Object(r.jsx)("label",{children:"Date"}),Object(r.jsx)("input",{type:"date",min:"2019-01-01",max:"2022-12-31",onChange:function(e){y(e.target.value)},value:N})]})]}),Object(r.jsxs)("div",{className:"new-expense__actions",children:[Object(r.jsx)("button",{onClick:function(t){t.preventDefault(),e.onCloseForm()},children:"Cancel"}),Object(r.jsx)("button",{type:"submit",children:"Add Expense"})]})]})};n(43);var M=function(e){var t=Object(d.useState)(!0),n=Object(i.a)(t,2),a=n[0],c=n[1],s=function(){c(!1)};return Object(r.jsx)("div",{className:"new-expense",children:a?Object(r.jsx)(F,{onSaveExpenseData:function(t,n){var a=Object(j.a)(Object(j.a)({},t),{},{quantity:1,id:Math.random().toString()});e.onAddExpense(a),s()},onCloseForm:s}):Object(r.jsx)("button",{onClick:function(){c(!0)},children:"Add New Expense"})})};var D=function(){var e=Object(d.useState)([{id:"e1",title:"Toilet Paper",amount:94.12,date:new Date(2020,7,14),quantity:4},{id:"e2",title:"New TV",amount:799.49,date:new Date(2021,2,12),quantity:2},{id:"e3",title:"Car Insurance",amount:294.67,date:new Date(2021,2,28),quantity:4},{id:"e4",title:"New Desk (Wooden)",amount:450,date:new Date(2021,5,12),quantity:4}]),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"created",children:["Created by ",Object(r.jsx)(l,{author:{name:"Ventsislav Iliev",tag:!0}})]}),Object(r.jsx)(M,{onAddExpense:function(e){a((function(t){return[e].concat(Object(s.a)(t))}))}}),Object(r.jsx)(C,{onFilterPrice:function(e){if(e){var t=n.sort((function(e,t){return e.amount-t.amount}));a((function(e){return Object(s.a)(t)}))}else{var c=n.sort((function(e,t){return e.title.localeCompare(t.title)}));a((function(e){return Object(s.a)(c)}))}},expenses:n})]})};c.a.createRoot(document.getElementById("root")).render(Object(r.jsx)(D,{}))}],[[44,1,2]]]);
//# sourceMappingURL=main.f0e446c0.chunk.js.map